/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.9.2
 * 编译日期：2025-03-07 17:59
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：北京鼎新云科技发展有限公司 ，2025-03-07
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x4b6ded=_0x7595;(function(_0x52cc26,_0x5a53ba){const _0x44fd29={_0xa00958:0x17b,_0xd90e71:0x1b4,_0x4603aa:0x1b2,_0x15d10d:0x19a,_0x55562a:0x196,_0x2317ad:0x1be,_0x4c2008:0x155},_0x5c76ff=_0x7595,_0x1655d7=_0x52cc26();while(!![]){try{const _0x2658a3=parseInt(_0x5c76ff(_0x44fd29._0xa00958))/0x1*(parseInt(_0x5c76ff(_0x44fd29._0xd90e71))/0x2)+-parseInt(_0x5c76ff(_0x44fd29._0x4603aa))/0x3+parseInt(_0x5c76ff(_0x44fd29._0x15d10d))/0x4+parseInt(_0x5c76ff(_0x44fd29._0x55562a))/0x5+parseInt(_0x5c76ff(0x19f))/0x6*(parseInt(_0x5c76ff(_0x44fd29._0x2317ad))/0x7)+parseInt(_0x5c76ff(0x1ac))/0x8+-parseInt(_0x5c76ff(_0x44fd29._0x4c2008))/0x9;if(_0x2658a3===_0x5a53ba)break;else _0x1655d7['push'](_0x1655d7['shift']());}catch(_0x4297e6){_0x1655d7['push'](_0x1655d7['shift']());}}}(_0x3cd5,0x5ae3e));function _interopNamespace(_0xcd7463){const _0x75fd8a={_0x3bcc0e:0x178},_0x21e6d5={_0x7857c5:0x17d},_0x32fdb0=_0x7595;if(_0xcd7463&&_0xcd7463[_0x32fdb0(_0x75fd8a._0x3bcc0e)])return _0xcd7463;var _0x5c37c2=Object['create'](null);return _0xcd7463&&Object['keys'](_0xcd7463)[_0x32fdb0(0x151)](function(_0x1ef949){const _0x59983e=_0x32fdb0;if(_0x1ef949!=='default'){var _0x288700=Object[_0x59983e(_0x21e6d5._0x7857c5)](_0xcd7463,_0x1ef949);Object['defineProperty'](_0x5c37c2,_0x1ef949,_0x288700[_0x59983e(0x170)]?_0x288700:{'enumerable':!![],'get':function(){return _0xcd7463[_0x1ef949];}});}}),_0x5c37c2[_0x32fdb0(0x1c2)]=_0xcd7463,_0x5c37c2;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace[_0x4b6ded(0x182)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;function _0x7595(_0x4627da,_0xb6301d){const _0x3cd501=_0x3cd5();return _0x7595=function(_0x759554,_0xc504b3){_0x759554=_0x759554-0x150;let _0x52856a=_0x3cd501[_0x759554];return _0x52856a;},_0x7595(_0x4627da,_0xb6301d);}class MapVRenderer extends BaseLayer$1{constructor(_0x453828,_0x69faa4,_0x4abfb8,_0x2fb3da){const _0x3a5fa2={_0x554ce3:0x1c4,_0x3627ff:0x1b1,_0x25dafd:0x150},_0x1a41b8=_0x4b6ded;super(_0x453828,_0x69faa4,_0x4abfb8);if(!BaseLayer$1)return;this['map']=_0x453828,this['scene']=_0x453828[_0x1a41b8(_0x3a5fa2._0x554ce3)],this['dataSet']=_0x69faa4,_0x4abfb8=_0x4abfb8||{},this['init'](_0x4abfb8),this[_0x1a41b8(_0x3a5fa2._0x3627ff)](_0x4abfb8),this[_0x1a41b8(_0x3a5fa2._0x25dafd)](),this['canvasLayer']=_0x2fb3da,this[_0x1a41b8(0x1a4)]=!0x1,this[_0x1a41b8(0x192)]=_0x4abfb8['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}[_0x4b6ded(0x18c)](){const _0xd8e32={_0x40288a:0x1a9,_0x2d3dec:0x192},_0xc4e3d=_0x4b6ded,_0xe7616f=this[_0xc4e3d(_0xd8e32._0x40288a)][_0xc4e3d(_0xd8e32._0x2d3dec)];this[_0xc4e3d(0x166)]()&&this['animator']&&(this['steps']['step']=_0xe7616f['stepsRange'][_0xc4e3d(0x15a)]);}['animatorMoveendEvent'](){const _0x1efd63={_0x4149d8:0x166},_0x264c07=_0x4b6ded;this[_0x264c07(_0x1efd63._0x4149d8)]()&&this['animator'];}[_0x4b6ded(0x158)](){const _0x8b7002={_0x4af102:0x183},_0x14da64=_0x4b6ded;return this['canvasLayer'][_0x14da64(_0x8b7002._0x4af102)][_0x14da64(0x158)](this['context']);}['init'](_0x2a96ac){const _0x336dda={_0x5a0cc2:0x18d},_0xb3f044=_0x4b6ded;this['options']=_0x2a96ac,this['initDataRange'](_0x2a96ac),this[_0xb3f044(0x18f)]=this['options']['context']||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this['canvasLayer'][_0xb3f044(_0x336dda._0x5a0cc2)](this['options']['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x4222be){const _0x5bed10={_0x349595:0x187,_0x86dc46:0x1a0,_0x1d45ee:0x18f,_0x208b8d:0x1a9,_0x5f2711:0x189,_0x56cefc:0x198,_0x4ba3dc:0x19b,_0x217905:0x1a3,_0x23f7f4:0x163,_0x4a2390:0x194,_0x302d89:0x15b,_0x2435c6:0x1c1,_0x2c68cd:0x1a8,_0x10b697:0x1b5,_0x4d6d36:0x1b6},_0xc554a5={_0x1ad57b:0x17e,_0x13b8e0:0x15c},_0x4f526d=_0x4b6ded;if(!this[_0x4f526d(_0x5bed10._0x349595)]||this[_0x4f526d(0x1a4)])return;const _0x1bf724=this['scene'],_0x2e0ad1=this['options']['animation'],_0xb707c0=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x4222be)return void this['clear'](_0xb707c0);this['context']==='2d'&&(_0xb707c0['save'](),_0xb707c0['globalCompositeOperation']=_0x4f526d(_0x5bed10._0x86dc46),_0xb707c0['fillStyle']=_0x4f526d(0x190),_0xb707c0['fillRect'](0x0,0x0,_0xb707c0['canvas']['width'],_0xb707c0['canvas']['height']),_0xb707c0[_0x4f526d(0x1bf)]());}else this['clear'](_0xb707c0);if(this[_0x4f526d(_0x5bed10._0x1d45ee)]==='2d')for(const _0x453ffa in this[_0x4f526d(_0x5bed10._0x208b8d)]){_0xb707c0[_0x453ffa]=this['options'][_0x453ffa];}else _0xb707c0['clear'](_0xb707c0['COLOR_BUFFER_BIT']);const _0x41c620={'transferCoordinate':function(_0x483fe2){const _0x15e5d1=_0x4f526d,_0x43a119=null;let _0x29d6fb=_0x1bf724['mapvFixedHeight'];_0x1bf724['mapvAutoHeight']&&(_0x29d6fb=_0x1bf724['getHeight'](Cesium$1['Cartographic'][_0x15e5d1(_0xc554a5._0x1ad57b)](_0x483fe2[0x0],_0x483fe2[0x1])));const _0x2582fd=Cesium$1['Cartesian3']['fromDegrees'](_0x483fe2[0x0],_0x483fe2[0x1],_0x29d6fb);if(!_0x2582fd)return _0x43a119;const _0x4062df=mars3d__namespace['PointTrans'][_0x15e5d1(0x159)](_0x1bf724,_0x2582fd);if(!_0x4062df)return _0x43a119;if(_0x1bf724['mapvDepthTest']&&_0x1bf724[_0x15e5d1(0x171)]===Cesium$1['SceneMode'][_0x15e5d1(_0xc554a5._0x13b8e0)]){const _0x47f346=new Cesium$1['EllipsoidalOccluder'](_0x1bf724['globe']['ellipsoid'],_0x1bf724['camera']['positionWC']),_0x358e11=_0x47f346['isPointVisible'](_0x2582fd);if(!_0x358e11)return _0x43a119;}return[_0x4062df['x'],_0x4062df['y']];}};void 0x0!==_0x4222be&&(_0x41c620[_0x4f526d(0x154)]=function(_0x4ad4ce){const _0x1d8704=_0x4f526d,_0x37b0f7=_0x2e0ad1[_0x1d8704(0x174)]||0xa;return!!(_0x4222be&&_0x4ad4ce['time']>_0x4222be-_0x37b0f7&&_0x4ad4ce['time']<_0x4222be);});let _0x3311b3;if(this['options'][_0x4f526d(_0x5bed10._0x5f2711)]==='cluster'&&(!this['options'][_0x4f526d(_0x5bed10._0x56cefc)]||this['options']['maxClusterZoom']>=this[_0x4f526d(0x1a1)]())){this['map']['getExtent']();const _0x1ca8c3=this['getZoom'](),_0x3e9761=this[_0x4f526d(_0x5bed10._0x4ba3dc)][_0x4f526d(_0x5bed10._0x217905)]([-0xb4,-0x5a,0xb4,0x5a],_0x1ca8c3);this['pointCountMax']=this['supercluster']['trees'][_0x1ca8c3]['max'],this[_0x4f526d(_0x5bed10._0x23f7f4)]=this['supercluster']['trees'][_0x1ca8c3]['min'];let _0x38b8ec={},_0xbfc190=null,_0x3699dc=null;this['pointCountMax']===this['pointCountMin']?(_0xbfc190=this['options']['fillStyle'],_0x3699dc=this[_0x4f526d(0x1a9)][_0x4f526d(_0x5bed10._0x4a2390)]||0x8):_0x38b8ec=new mapv__namespace[(_0x4f526d(0x1c3))]({'min':this[_0x4f526d(0x163)],'max':this['pointCountMax'],'minSize':this[_0x4f526d(0x1a9)]['minSize']||0x8,'maxSize':this['options'][_0x4f526d(0x18e)]||0x1e,'gradient':this['options']['gradient']});for(let _0x48695f=0x0;_0x48695f<_0x3e9761['length'];_0x48695f++){const _0x217ac2=_0x3e9761[_0x48695f];_0x217ac2['properties']&&_0x217ac2['properties'][_0x4f526d(_0x5bed10._0x302d89)]?(_0x3e9761[_0x48695f][_0x4f526d(_0x5bed10._0x2435c6)]=_0x3699dc||_0x38b8ec['getSize'](_0x217ac2[_0x4f526d(0x175)]['point_count']),_0x3e9761[_0x48695f]['fillStyle']=_0xbfc190||_0x38b8ec[_0x4f526d(0x180)](_0x217ac2['properties'][_0x4f526d(_0x5bed10._0x2c68cd)])):_0x3e9761[_0x48695f][_0x4f526d(0x1c1)]=this['options']['size'];}this['clusterDataSet']['set'](_0x3e9761),_0x3311b3=this[_0x4f526d(0x173)]['get'](_0x41c620);}else _0x3311b3=this['dataSet'][_0x4f526d(0x170)](_0x41c620);this[_0x4f526d(_0x5bed10._0x10b697)](_0x3311b3);this[_0x4f526d(0x1a9)][_0x4f526d(_0x5bed10._0x4d6d36)]==='m'&&this[_0x4f526d(0x1a9)]['size']&&(this['options']['_size']=this['options']['size']);const _0x4316e2=mars3d__namespace['PointTrans']['toWindowCoordinates'](_0x1bf724,Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x4316e2)return;this['drawContext'](_0xb707c0,new mapv__namespace['DataSet'](_0x3311b3),this['options'],_0x4316e2),this['options']['updateCallback']&&this['options']['updateCallback'](_0x4222be);}[_0x4b6ded(0x15e)](_0x2bf2eb,_0x259a79){let _0x41ba48=_0x2bf2eb;_0x41ba48&&_0x41ba48['get']&&(_0x41ba48=_0x41ba48['get']()),void 0x0!==_0x41ba48&&this['dataSet']['set'](_0x41ba48),super['update']({'options':_0x259a79});}[_0x4b6ded(0x1ae)](_0x31cb51,_0x551ef4){const _0x4c937b=_0x4b6ded;let _0x2c0c53=_0x31cb51;_0x31cb51&&_0x31cb51['get']&&(_0x2c0c53=_0x31cb51['get']()),this['dataSet']['add'](_0x2c0c53),this[_0x4c937b(0x15f)]({'options':_0x551ef4});}['getData'](){return this['dataSet'];}['removeData'](_0x16be82){if(this['dataSet']){const _0xabf2b5=this['dataSet']['get']({'filter':function(_0x369a4b){return _0x16be82==null||typeof _0x16be82!=='function'||!_0x16be82(_0x369a4b);}});this['dataSet']['set'](_0xabf2b5),this['update']({'options':null});}}['clearData'](){const _0x3046b2={_0x264679:0x195},_0x50e7b5=_0x4b6ded;this['dataSet']&&this['dataSet'][_0x50e7b5(_0x3046b2._0x264679)](),this['update']({'options':null});}['draw'](){this['canvasLayer']['draw']();}['clear'](_0x3cfcbd){const _0x2cbbb0={_0x5df36d:0x183},_0x22759a=_0x4b6ded;_0x3cfcbd&&_0x3cfcbd['clearRect']&&_0x3cfcbd['clearRect'](0x0,0x0,_0x3cfcbd[_0x22759a(_0x2cbbb0._0x5df36d)]['width'],_0x3cfcbd['canvas'][_0x22759a(0x1b8)]);}['getZoom'](){const _0x37a803=_0x4b6ded;return this[_0x37a803(0x16f)]['level'];}['destroy'](){const _0x1be69d={_0x5f3328:0x187},_0x2cfa95=_0x4b6ded;this['clear'](this['getContext']()),this['clearData'](),this[_0x2cfa95(0x165)]&&this['animator']['stop'](),this['animator']=null,this[_0x2cfa95(_0x1be69d._0x5f3328)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x476086,_0x99fbae,_0x6060a0,_0x455e51){const _0x5c81cd={_0x4cc4f8:0x1af,_0x3e6fa5:0x177},_0x19423e=_0x4b6ded;_0x455e51=_0x455e51||_0x19423e(0x153),_0x6060a0=_0x6060a0||_0x19423e(0x199);for(let _0x4975c5=0x0;_0x4975c5<_0x476086[_0x19423e(0x19d)];_0x4975c5++){const _0x3faa5a=_0x476086[_0x4975c5][_0x19423e(_0x5c81cd._0x4cc4f8)],_0x165402=_0x3faa5a[_0x6060a0];switch(_0x3faa5a[_0x19423e(0x15d)]){case'Point':{const _0x3ee034=_0x99fbae(_0x165402);_0x3ee034?_0x3faa5a[_0x455e51]=_0x3ee034:_0x3faa5a[_0x455e51]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x421253=[];for(let _0x306200=0x0;_0x306200<_0x165402['length'];_0x306200++){const _0x1ea9a2=_0x99fbae(_0x165402[_0x306200]);_0x1ea9a2&&_0x421253[_0x19423e(0x184)](_0x1ea9a2);}_0x3faa5a[_0x455e51]=_0x421253;}break;case _0x19423e(_0x5c81cd._0x3e6fa5):case'Polygon':{const _0x43adf6=_0x3d36f7(_0x165402);_0x3faa5a[_0x455e51]=_0x43adf6;}break;case'MultiPolygon':{const _0x249db3=[];for(let _0x24d665=0x0;_0x24d665<_0x165402['length'];_0x24d665++){const _0x437d70=_0x3d36f7(_0x165402[_0x24d665]);_0x437d70['length']>0x0&&_0x249db3['push'](_0x437d70);}_0x3faa5a[_0x455e51]=_0x249db3;}break;}}function _0x3d36f7(_0x5d48c4){const _0x1f4845=[];for(let _0x1d1cc7=0x0;_0x1d1cc7<_0x5d48c4['length'];_0x1d1cc7++){const _0x492f2a=_0x5d48c4[_0x1d1cc7],_0x4fb4df=[];for(let _0x282b4e=0x0;_0x282b4e<_0x492f2a['length'];_0x282b4e++){const _0x24c0f4=_0x99fbae(_0x492f2a[_0x282b4e]);_0x24c0f4&&_0x4fb4df['push'](_0x24c0f4);}_0x4fb4df['length']>0x0&&_0x1f4845['push'](_0x4fb4df);}return _0x1f4845;}return _0x476086;};else throw new Error(_0x4b6ded(0x179));const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x28f7ea,_0x26db7e){const _0x34faa8={_0x2abf2d:0x19c},_0x43f8e7=_0x4b6ded;super(_0x28f7ea),this[_0x43f8e7(_0x34faa8._0x2abf2d)]=this[_0x43f8e7(0x1a9)]['pointerEvents'],this['dataSet']=_0x26db7e||new mapv__namespace['DataSet'](_0x28f7ea[_0x43f8e7(0x1a5)]),this['canvas']=null;}get[_0x4b6ded(0x188)](){const _0xf40e91={_0x199886:0x19c},_0x117425=_0x4b6ded;return this[_0x117425(_0xf40e91._0x199886)];}set['pointerEvents'](_0x12aaf3){const _0x406a62={_0xbd4c15:0x19c,_0x251645:0x183,_0x32b963:0x188},_0x20c6f5=_0x4b6ded;this[_0x20c6f5(_0x406a62._0xbd4c15)]=_0x12aaf3,this[_0x20c6f5(_0x406a62._0x251645)]&&(_0x12aaf3?this[_0x20c6f5(0x183)][_0x20c6f5(0x1aa)]['pointerEvents']='all':this[_0x20c6f5(0x183)]['style'][_0x20c6f5(_0x406a62._0x32b963)]='none');}['_showHook'](_0x1f3a87){const _0x70677={_0x4b258c:0x183,_0x3c3f5c:0x1aa},_0xa29126=_0x4b6ded;_0x1f3a87?this['canvas']['style'][_0xa29126(0x18a)]='block':this[_0xa29126(_0x70677._0x4b258c)][_0xa29126(_0x70677._0x3c3f5c)]['display']='none';}['_mountedHook'](){const _0x28cf35={_0x1b929b:0x1b7,_0x56f517:0x1c4,_0x156bff:0x1c5,_0x3c4bdf:0x1b7},_0x34f118=_0x4b6ded;this[_0x34f118(_0x28cf35._0x1b929b)]['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this['_map'][_0x34f118(_0x28cf35._0x56f517)][_0x34f118(_0x28cf35._0x156bff)]=this['options']['clampToGround']??![],this[_0x34f118(_0x28cf35._0x3c4bdf)]['scene'][_0x34f118(0x156)]=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x4ffb8c={_0x35078e:0x161,_0x2b72cb:0x1a9},_0x490e51=_0x4b6ded;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet'][_0x490e51(0x161)]['length']===0x0)&&(this['dataSet'][_0x490e51(_0x4ffb8c._0x35078e)]=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this[_0x490e51(_0x4ffb8c._0x2b72cb)],this),this['initDevicePixelRatio'](),this[_0x490e51(0x183)]=this['_createCanvas'](),this['render']=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}[_0x4b6ded(0x17f)](){const _0x1a3eda={_0x40cd05:0x172,_0x4dc6b4:0x152,_0x493d9b:0x183},_0x8d5f0b=_0x4b6ded;this['unbindEvent'](),this['_mapVRenderer']&&(this[_0x8d5f0b(_0x1a3eda._0x40cd05)]['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x8d5f0b(_0x1a3eda._0x4dc6b4)][_0x8d5f0b(0x1bd)](this[_0x8d5f0b(_0x1a3eda._0x493d9b)]);}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x531568={_0x3c4f28:0x1a7,_0x4bdb7e:0x185,_0x40a661:0x19e,_0x57d3f1:0x1a9,_0x27294b:0x1b9},_0x25af36=_0x4b6ded;var _0x4f0e0c,_0x21fab8;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x25af36(0x17a)],this),this[_0x25af36(0x1b7)]['on'](mars3d__namespace[_0x25af36(_0x531568._0x3c4f28)][_0x25af36(_0x531568._0x4bdb7e)],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x25af36(_0x531568._0x40a661)],this),(_0x4f0e0c=this[_0x25af36(_0x531568._0x57d3f1)])!==null&&_0x4f0e0c!==void 0x0&&(_0x4f0e0c=_0x4f0e0c[_0x25af36(0x197)])!==null&&_0x4f0e0c!==void 0x0&&_0x4f0e0c['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x21fab8=this['options'])!==null&&_0x21fab8!==void 0x0&&(_0x21fab8=_0x21fab8['methods'])!==null&&_0x21fab8!==void 0x0&&_0x21fab8['mousemove']&&this['_map']['on'](mars3d__namespace['EventType'][_0x25af36(0x164)],this[_0x25af36(_0x531568._0x27294b)],this);}['unbindEvent'](){const _0x365208={_0xd2ceff:0x16d,_0x1195b3:0x1a7,_0x439f88:0x1b7},_0x373c89=_0x4b6ded;var _0x1c3d59,_0x388537;this[_0x373c89(0x1b7)]['off'](mars3d__namespace['EventType']['mouseDown'],this[_0x373c89(0x17a)],this),this[_0x373c89(0x1b7)][_0x373c89(_0x365208._0xd2ceff)](mars3d__namespace[_0x373c89(_0x365208._0x1195b3)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map'][_0x373c89(0x16d)](mars3d__namespace[_0x373c89(0x1a7)]['cameraMoveEnd'],this[_0x373c89(0x19e)],this),this[_0x373c89(0x1b7)]['off'](mars3d__namespace[_0x373c89(0x1a7)]['postRender'],this[_0x373c89(0x186)],this),(_0x1c3d59=this['options'])!==null&&_0x1c3d59!==void 0x0&&(_0x1c3d59=_0x1c3d59[_0x373c89(0x197)])!==null&&_0x1c3d59!==void 0x0&&_0x1c3d59['click']&&this['_map']['off'](mars3d__namespace['EventType']['click'],this[_0x373c89(0x1ba)],this),(_0x388537=this['options'])!==null&&_0x388537!==void 0x0&&(_0x388537=_0x388537['methods'])!==null&&_0x388537!==void 0x0&&_0x388537['mousemove']&&this[_0x373c89(_0x365208._0x439f88)][_0x373c89(0x16d)](mars3d__namespace[_0x373c89(_0x365208._0x1195b3)]['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x50cffa={_0x4c2da2:0x172},_0x1a93db=_0x4b6ded;this[_0x1a93db(_0x50cffa._0x4c2da2)]&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x572a3e={_0x6a7b52:0x172,_0x2e9f5b:0x16b},_0x351f74=_0x4b6ded;this[_0x351f74(_0x572a3e._0x6a7b52)]&&(this['_map']['off'](mars3d__namespace[_0x351f74(0x1a7)]['postRender'],this['_reset'],this),this['_mapVRenderer'][_0x351f74(_0x572a3e._0x2e9f5b)](),this['_reset']());}['_setOptionsHook'](_0x1cc32a,_0x5f19e6){this['_removedHook'](),this['_addedHook']();}['addData'](_0x1ee7d9){const _0x3b17de=_0x4b6ded;this[_0x3b17de(0x172)]&&this['_mapVRenderer'][_0x3b17de(0x1ae)](_0x1ee7d9,this['options']);}[_0x4b6ded(0x15e)](_0xb8eb82){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0xb8eb82,this['options']);}['getData'](){const _0x32244b=_0x4b6ded;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer'][_0x32244b(0x1b0)]()),this['dataSet'];}[_0x4b6ded(0x17c)](_0xfd351e){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0xfd351e);}['removeAllData'](){const _0x58e4c1={_0x376dfd:0x172},_0x43e121=_0x4b6ded;this[_0x43e121(_0x58e4c1._0x376dfd)]&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x322bae={_0x522146:0x1ad,_0x476a09:0x1aa,_0x20d877:0x1b7,_0xa6aa35:0x1b8,_0x1cf974:0x191,_0x361aca:0x193,_0x4583be:0x1aa,_0x12d528:0x1ab,_0x137b7c:0x158,_0x10f392:0x18f},_0x2e6216=_0x4b6ded,_0x59100c=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map'][_0x2e6216(_0x322bae._0x522146)]);_0x59100c['id']=this['id'],_0x59100c[_0x2e6216(_0x322bae._0x476a09)]['position']='absolute',_0x59100c['style']['top']=_0x2e6216(0x157),_0x59100c['style'][_0x2e6216(0x160)]='0px',_0x59100c['width']=parseInt(this[_0x2e6216(_0x322bae._0x20d877)]['canvas']['width']),_0x59100c[_0x2e6216(_0x322bae._0xa6aa35)]=parseInt(this['_map']['canvas']['height']),_0x59100c['style']['width']=this[_0x2e6216(0x1b7)]['canvas']['style']['width'],_0x59100c['style']['height']=this['_map']['canvas']['style']['height'],_0x59100c['style']['pointerEvents']=this['_pointerEvents']?_0x2e6216(_0x322bae._0x1cf974):_0x2e6216(_0x322bae._0x361aca),_0x59100c[_0x2e6216(_0x322bae._0x4583be)][_0x2e6216(_0x322bae._0x12d528)]=this['options']['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x170547=this['devicePixelRatio'];_0x59100c[_0x2e6216(_0x322bae._0x137b7c)](this['options'][_0x2e6216(_0x322bae._0x10f392)])['scale'](_0x170547,_0x170547);}return _0x59100c;}[_0x4b6ded(0x186)](){this['resize'](),this['render']();}['draw'](){this['_reset']();}[_0x4b6ded(0x181)](){const _0x17fd6a={_0x529c77:0x1bd,_0x226705:0x183},_0x771c49=_0x4b6ded;this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x771c49(_0x17fd6a._0x529c77)](this[_0x771c49(_0x17fd6a._0x226705)]);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}[_0x4b6ded(0x169)](){const _0x4d6415={_0x355985:0x16c,_0x5de6da:0x1aa,_0x3a3135:0x1b7,_0x2cbffe:0x16e,_0x2c644c:0x183},_0x5dd50d=_0x4b6ded;if(this['canvas']){const _0x180da6=this['canvas'];_0x180da6['style']['position']=_0x5dd50d(_0x4d6415._0x355985),_0x180da6[_0x5dd50d(_0x4d6415._0x5de6da)]['top']='0px',_0x180da6[_0x5dd50d(_0x4d6415._0x5de6da)]['left']='0px',_0x180da6[_0x5dd50d(0x16e)]=parseInt(this[_0x5dd50d(_0x4d6415._0x3a3135)]['canvas']['width']),_0x180da6['height']=parseInt(this['_map']['canvas']['height']),_0x180da6['style'][_0x5dd50d(_0x4d6415._0x2cbffe)]=this[_0x5dd50d(0x1b7)][_0x5dd50d(_0x4d6415._0x2c644c)]['style']['width'],_0x180da6['style'][_0x5dd50d(0x1b8)]=this['_map']['canvas']['style']['height'];}}[_0x4b6ded(0x1bc)](_0x17425e){const _0x5e7e31={_0x41b67f:0x162,_0x56a72a:0x16a},_0x21b8a8=_0x4b6ded;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x2539d8=mars3d__namespace[_0x21b8a8(0x1a6)][_0x21b8a8(0x18b)]({'type':'FeatureCollection','features':this['dataSet'][_0x21b8a8(0x161)]});if(!_0x2539d8)return;return _0x17425e!==null&&_0x17425e!==void 0x0&&_0x17425e[_0x21b8a8(_0x5e7e31._0x41b67f)]?_0x2539d8:Cesium[_0x21b8a8(0x1c0)]['fromDegrees'](_0x2539d8[_0x21b8a8(_0x5e7e31._0x56a72a)],_0x2539d8['ymin'],_0x2539d8['xmax'],_0x2539d8[_0x21b8a8(0x1b3)]);}['_onMapClick'](_0x493a49){const _0x71f149={_0x49bc8c:0x172},_0xd58181=_0x4b6ded;this['_cache_event']=_0x493a49,this['_mapVRenderer']&&this[_0xd58181(_0x71f149._0x49bc8c)]['clickEvent'](_0x493a49['windowPosition'],_0x493a49);}[_0x4b6ded(0x1b9)](_0xf7b1c){this['_cache_event']=_0xf7b1c,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0xf7b1c['windowPosition'],_0xf7b1c);}['on'](_0x5c228a,_0x445d05,_0x414773){const _0xef36a3={_0x25714e:0x1a9,_0xa356ce:0x197,_0x2a3138:0x1a7,_0x298773:0x167,_0x131df7:0x197,_0x1686d4:0x164},_0x2b5733=_0x4b6ded;this[_0x2b5733(_0xef36a3._0x25714e)][_0x2b5733(_0xef36a3._0xa356ce)]=this[_0x2b5733(_0xef36a3._0x25714e)]['methods']||{};if(_0x5c228a===mars3d__namespace[_0x2b5733(_0xef36a3._0x2a3138)][_0x2b5733(_0xef36a3._0x298773)])this['options'][_0x2b5733(_0xef36a3._0x131df7)]['click']=_0x4ac382=>{const _0x1cc7d7=_0x2b5733;_0x4ac382&&_0x445d05['bind'](_0x414773)({...this[_0x1cc7d7(0x168)],'layer':this,'data':_0x4ac382});},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x5c228a===mars3d__namespace['EventType']['mouseMove']&&(this['options'][_0x2b5733(0x197)]['mousemove']=_0x27264c=>{_0x27264c&&_0x445d05['bind'](_0x414773)({...this['_cache_event'],'layer':this,'data':_0x27264c});},this['_map']['on'](mars3d__namespace['EventType'][_0x2b5733(_0xef36a3._0x1686d4)],this['_onMapMouseMove'],this));return this;}[_0x4b6ded(0x16d)](_0x46d4f1,_0x5f46de){const _0x384a6b={_0x1630a7:0x197,_0x2e2b7d:0x1a9,_0x4dcae5:0x1b9},_0x2b6681=_0x4b6ded;if(_0x46d4f1==='click'){var _0x4da8f5;this['_map']['off'](_0x46d4f1,this['_onMapClick'],this),(_0x4da8f5=this[_0x2b6681(0x1a9)][_0x2b6681(_0x384a6b._0x1630a7)])!==null&&_0x4da8f5!==void 0x0&&_0x4da8f5['mousemove']&&delete this[_0x2b6681(_0x384a6b._0x2e2b7d)]['methods']['click'];}else{if(_0x46d4f1==='mouseMove'){var _0x1a6200;this['_map'][_0x2b6681(0x16d)](_0x46d4f1,this[_0x2b6681(_0x384a6b._0x4dcae5)],this),(_0x1a6200=this['options'][_0x2b6681(0x197)])!==null&&_0x1a6200!==void 0x0&&_0x1a6200['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil']['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x4b6ded(0x176)](mapv)['forEach'](function(_0x4ae319){const _0x19116e={_0x3142b1:0x1a2},_0x15e4b4=_0x4b6ded;if(_0x4ae319!=='default'&&!exports[_0x15e4b4(_0x19116e._0x3142b1)](_0x4ae319))Object[_0x15e4b4(0x1bb)](exports,_0x4ae319,{'enumerable':!![],'get':function(){return mapv[_0x4ae319];}});}),Object['defineProperty'](exports,_0x4b6ded(0x178),{'value':!![]});function _0x3cd5(){const _0xc4e59e=['unit','_map','height','_onMapMouseMove','_onMapClick','defineProperty','getRectangle','removeChild','17857hWtkkU','restore','Rectangle','size','default','utilDataRangeIntensity','scene','mapvAutoHeight','initDevicePixelRatio','forEach','parentElement','_coordinates','filter','21227418kumBwV','mapvFixedHeight','0px','getContext','toWindowCoordinates','start','cluster_id','SCENE3D','type','updateData','update','left','_data','isFormat','pointCountMin','mouseMove','animator','isEnabledTime','click','_cache_event','resize','xmin','animatorMoveendEvent','absolute','off','width','map','get','mode','_mapVRenderer','clusterDataSet','trails','properties','keys','MultiLineString','__esModule','请引入\x20mapv\x20库\x20','_onMoveStartEvent','24PHguks','removeData','getOwnPropertyDescriptor','fromDegrees','_removedHook','getColor','remove','baiduMapLayer','canvas','push','cameraMoveStart','_reset','canvasLayer','pointerEvents','draw','display','getExtentByGeoJSON','animatorMovestartEvent','setZIndex','maxSize','context','rgba(0,\x200,\x200,\x20.1)','auto','animation','none','minSize','clear','3516305gERrhi','methods','maxClusterZoom','coordinates','1009760AtixRf','supercluster','_pointerEvents','length','_onMoveEndEvent','1086MAGaVV','destination-out','getZoom','hasOwnProperty','getClusters','stopAniamation','data','Util','EventType','point_count','options','style','zIndex','5353216aQBtUN','container','addData','geometry','getData','argCheck','119232enfJBh','ymax','57004Kgcmaq','processData'];_0x3cd5=function(){return _0xc4e59e;};return _0x3cd5();}
}));
